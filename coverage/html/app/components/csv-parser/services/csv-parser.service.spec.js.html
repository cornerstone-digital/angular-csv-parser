<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app/components/csv-parser/services/csv-parser.service.spec.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../index.html">all files</a> / <a href="index.html">app/components/csv-parser/services/</a> csv-parser.service.spec.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>49/49</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>21/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>49/49</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">describe('SERVICE: ParserService', function() {
  var ParserService,
      csvContent,
      objHeaders,
      objData;
      
  beforeEach(angular.mock.module('app.csvParser'));
&nbsp;
  beforeEach(inject(function(_ParserService_) {
    ParserService = _ParserService_;
    
    csvContent = [
      'first_name,last_name,company_name,address,city,county,postal,phone1,phone2,email,web',
      'Aleshia,Tomkiewicz,Alan D Rosenburg Cpa Pc,14 Taylor St,St. Stephens Ward,Kent,CT2 7PP,01835-703597,01944-369967,atomkiewicz@hotmail.com,http://www.alandrosenburgcpapc.co.uk',
      'Evan,Zigomalas,Cap Gemini America,5 Binney St,Abbey Ward,Buckinghamshire,HP11 2AX,01937-864715,01714-737668,evan.zigomalas@gmail.com,http://www.capgeminiamerica.co.uk',
      'France,Andrade,"Elliott, John W Esq",8 Moor Place,East Southbourne and Tuckton W,Bournemouth,BH6 3BE,01347-368222,01935-821636,france.andrade@hotmail.com,http://www.elliottjohnwesq.co.uk',
      'Ulysses,Mcwalters,"Mcmahan, Ben L",505 Exeter Rd,Hawerby cum Beesby,Lincolnshire,DN36 5RP,01912-771311,01302-601380,ulysses@hotmail.com,http://www.mcmahanbenl.co.uk',
      'Tyisha,Veness,Champagne Room,5396 Forth Street,Greets Green and Lyng Ward,West Midlands,B70 9DT,01547-429341,01290-367248,tyisha.veness@hotmail.com,http://www.champagneroom.co.uk',
      'Eric,Rampy,"Thompson, Michael C Esq",9472 Lind St,Desborough,Northamptonshire,NN14 2GH,01969-886290,01545-817375,erampy@rampy.co.uk,http://www.thompsonmichaelcesq.co.uk',
      'Marg,Grasmick,Wrangle Hill Auto Auct &amp; Slvg,7457 Cowl St #70,Bargate Ward,Southampton,SO14 3TY,01865-582516,01362-620532,marg@hotmail.com,http://www.wranglehillautoauctslvg.co.uk',
      'Laquita,Hisaw,In Communications Inc,20 Gloucester Pl #96,Chirton Ward,Tyne &amp; Wear,NE29 7AD,01746-394243,01590-982428,laquita@yahoo.com,http://www.incommunicationsinc.co.uk',
      'Lura,Manzella,Bizerba Usa Inc,929 Augustine St,Staple Hill Ward,South Gloucestershire,BS16 4LL,01907-538509,01340-713951,lura@hotmail.com,http://www.bizerbausainc.co.uk',
      'Yuette,Klapec,Max Video,45 Bradfield St #166,Parwich,Derbyshire,DE6 1QN,01903-649460,01933-512513,yuette.klapec@klapec.co.uk,http://www.maxvideo.co.uk']
      .join('\n');
      
    objHeaders = ['first_name', 'last_name', 'company_name', 'address', 'city', 'county', 'postal', 'phone1', 'phone2', 'email', 'web'];
      
    objData = [
      { first_name: 'Aleshia', last_name: 'Tomkiewicz', company_name: 'Alan D Rosenburg Cpa Pc', address: '14 Taylor St', city: 'St. Stephens Ward', county: 'Kent', postal: 'CT2 7PP', phone1: '01835-703597', phone2: '01944-369967', email: 'atomkiewicz@hotmail.com', web: 'http://www.alandrosenburgcpapc.co.uk' },
      { first_name: 'Evan', last_name: 'Zigomalas', company_name: 'Cap Gemini America', address: '5 Binney St', city: 'Abbey Ward', county: 'Buckinghamshire', postal: 'HP11 2AX', phone1: '01937-864715', phone2: '01714-737668', email: 'evan.zigomalas@gmail.com', web: 'http://www.capgeminiamerica.co.uk' },
      { first_name: 'France', last_name: 'Andrade', company_name: '"Elliott', address: ' John W Esq"', city: '8 Moor Place', county: 'East Southbourne and Tuckton W', postal: 'Bournemouth', phone1: 'BH6 3BE', phone2: '01347-368222', email: '01935-821636', web: 'france.andrade@hotmail.com' },
      { first_name: 'Ulysses', last_name: 'Mcwalters', company_name: '"Mcmahan', address: ' Ben L"', city: '505 Exeter Rd', county: 'Hawerby cum Beesby', postal: 'Lincolnshire', phone1: 'DN36 5RP', phone2: '01912-771311', email: '01302-601380', web: 'ulysses@hotmail.com' },
      { first_name: 'Tyisha', last_name: 'Veness', company_name: 'Champagne Room', address: '5396 Forth Street', city: 'Greets Green and Lyng Ward', county: 'West Midlands', postal: 'B70 9DT', phone1: '01547-429341', phone2: '01290-367248', email: 'tyisha.veness@hotmail.com', web: 'http://www.champagneroom.co.uk' },
      { first_name: 'Eric', last_name: 'Rampy', company_name: '"Thompson', address: ' Michael C Esq"', city: '9472 Lind St', county: 'Desborough', postal: 'Northamptonshire', phone1: 'NN14 2GH', phone2: '01969-886290', email: '01545-817375', web: 'erampy@rampy.co.uk' },
      { first_name: 'Marg', last_name: 'Grasmick', company_name: 'Wrangle Hill Auto Auct &amp; Slvg', address: '7457 Cowl St #70', city: 'Bargate Ward', county: 'Southampton', postal: 'SO14 3TY', phone1: '01865-582516', phone2: '01362-620532', email: 'marg@hotmail.com', web: 'http://www.wranglehillautoauctslvg.co.uk' },
      { first_name: 'Laquita', last_name: 'Hisaw', company_name: 'In Communications Inc', address: '20 Gloucester Pl #96', city: 'Chirton Ward', county: 'Tyne &amp; Wear', postal: 'NE29 7AD', phone1: '01746-394243', phone2: '01590-982428', email: 'laquita@yahoo.com', web: 'http://www.incommunicationsinc.co.uk' },
      { first_name: 'Lura', last_name: 'Manzella', company_name: 'Bizerba Usa Inc', address: '929 Augustine St', city: 'Staple Hill Ward', county: 'South Gloucestershire', postal: 'BS16 4LL', phone1: '01907-538509', phone2: '01340-713951', email: 'lura@hotmail.com', web: 'http://www.bizerbausainc.co.uk' },
      { first_name: 'Yuette', last_name: 'Klapec', company_name: 'Max Video', address: '45 Bradfield St #166', city: 'Parwich', county: 'Derbyshire', postal: 'DE6 1QN', phone1: '01903-649460', phone2: '01933-512513', email: 'yuette.klapec@klapec.co.uk', web: 'http://www.maxvideo.co.uk' }
    ];
    
  }));
&nbsp;
  it('should exist', function() {
    expect(ParserService).toBeDefined();
  });
  
  describe('METHOD: ReadFile', function() {
    it('should exist', function() {
      expect(typeof ParserService.ReadFile).toBeDefined();
    });
    
    it('should be of type function', function() {
      expect(typeof ParserService.ReadFile).toBe('function');
    });
    
    describe('SCENARIO: Reading a file', function() {
      it('should be able to read a file', function(done) {
        
        var file = new Blob([csvContent], {type: 'text/csv'});
  
        ParserService.ReadFile(file)
                     .then(function(content) {
                      expect(content).toBeDefined();
                      expect(content).toEqual(csvContent);
                      done();
                     });
      })
    })
  });
  
  describe('METHOD: CSVToObject', function() {
    it('should exist', function() {
      expect(typeof ParserService.CSVToObject).toBeDefined();
    });
    
    it('should be of type function', function() {
      expect(typeof ParserService.CSVToObject).toBe('function');
    });
    
    describe('SCENARIO: Converting from CSV to Object', function() {
      it('should process the CSV and return an object', function(done) {
        var file = new Blob([csvContent], {type: 'text/csv'});
  
        ParserService.CSVToObject(file)
                     .then(function (csvObject) {
                        expect(csvObject).toBeDefined();
                        expect(typeof csvObject).toBe('object');
                        expect(csvObject.headers).toEqual(objHeaders);
                        expect(csvObject.data).toEqual(objData);
                        done();
                     });
      });
    })
  });
  
  describe('METHOD: ParseCSV', function() {
    it('should exist', function() {
      expect(typeof ParserService.ParseCSV).toBeDefined();
    });
    
    it('should be of type function', function() {
      expect(typeof ParserService.ParseCSV).toBe('function');
    });
    
    describe('SCENARIO: Parsing a CSV string', function() {
      it('should parse the CSV string and return an object', function(done) {
          ParserService.ParseCSV(csvContent)
                       .then(function (csvObject) {
                         expect(csvObject).toBeDefined();
                         expect(typeof csvObject).toBe('object');
                         expect(csvObject.headers).toEqual(objHeaders);
                         expect(csvObject.data).toEqual(objData);
                         done();
                       });
      });
    });
  });
});
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Oct 01 2016 12:46:59 GMT+0100 (BST)
</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
</body>
</html>
